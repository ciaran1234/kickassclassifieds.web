<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12 col-md-8 mt-3">
            <div class="card">
                <h3 class="card-header text-truncate">{{classified?.title}}</h3>
                <div class="card-block" *ngIf="classified?.images.length">
                    <ngb-carousel [interval]="false">
                        <ng-template ngbSlide *ngFor="let image of classified?.images">
                            <img src="{{image.path}}" style="max-height: 500px;" class="img-fluid mx-auto d-block" [alt]="image.name">
                        </ng-template>
                    </ngb-carousel>
                </div>
                <div class="card-block">
                    <p>
                        Price:
                        <span class="iso-currency" [ngClass]="classified?.price?.ccy"></span> {{ (classified?.price?.value.$numberDecimal
                        | number : '1.2-2') || 'N/A' }}
                    </p>
                    <p>Description: {{classified?.description}}</p>
                    <p>Category: {{classified?.category.name}}</p>
                    <classified-dynamic-details [data]='classified?.details'></classified-dynamic-details>
                    <p>Country: {{classified?.country.name}}</p>
                    <p>Region: {{classified?.region.name}}</p>
                    <p>Areas:</p>
                    <ul>
                        <li *ngFor="let state of classified?.states">{{state}}</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 mt-3">
            <div class="card">
                <h3 class="card-header">{{classified?.advertiser.firstName}} {{classified?.advertiser.lastName}}</h3>
                <div class="card-block">
                    <button class="btn btn-primary" (click)="open(content)">Send Message</button>
                    <p class="mt-3">Member since {{classified?.advertiser.dateRegistered | date: 'yyyy' }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="mb-5 mt-3">
        <a routerLink="/classifieds" class="btn btn-outline-warning">Back</a>
    </div>
</div>
<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5 class="modal-title">Send Message</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <input class="form-control" placeholder="Subject" required [(ngModel)]="message.subject" />
        </div>
        <div class="form-group">
            <textarea class="form-control" rows="6" placeholder="Message" required [(ngModel)]="message.body"></textarea>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
        <button type="submit" class="btn btn-primary" (click)="sendMessage()">Send</button>
    </div>
</ng-template>